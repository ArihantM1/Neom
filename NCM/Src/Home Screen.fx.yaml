"'Home Screen' As screen":
    OnVisible: |-
        =Set(ContractData,Blank());
        Set(lclSelectedContracts,Blank())

    con_Main_HS As groupContainer.verticalAutoLayoutContainer:
        Height: =Parent.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        Width: =Parent.Width
        ZIndex: =1

        HeaderComponent_HS As HeaderComponent:
            CurrentScreen: ="HOME"
            Height: =Parent.Height*.1
            LayoutMinHeight: =640
            LayoutMinWidth: =640
            NavItems: =NavBar

        con_BodyMain_HS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Width: =Parent.Width
            ZIndex: =2

            con_Configuration_NavBar_HS As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0
                Height: =Parent.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =Parent.Width*.17
                ZIndex: =1

                con_LoggedInUserInfo_HS As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =Parent.Height*.4
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Width: =Parent.Width
                    ZIndex: =1

                    img_LoggedInUser_ProfilePicture_HS As image:
                        Height: =60
                        Image: =User().Image
                        RadiusBottomLeft: =50
                        RadiusBottomRight: =50
                        RadiusTopLeft: =50
                        RadiusTopRight: =50
                        Width: =60
                        ZIndex: =1

                    lbl_WelcomeMassage_HS As label:
                        Align: =Align.Center
                        Color: =RGBA(107, 29, 94,1)
                        FontWeight: =FontWeight.Semibold
                        Height: =30
                        PaddingBottom: =0
                        Size: =11
                        Text: ="Welcome !"
                        Width: =Parent.Width
                        ZIndex: =2

                    lbl_LoggedInUser_FullName_HS As label:
                        Align: =Align.Center
                        Color: =RGBA(107, 29, 94,1)
                        FontWeight: =FontWeight.Bold
                        PaddingTop: =0
                        Size: =14
                        Text: =User().FullName
                        Width: =Parent.Width
                        ZIndex: =3

                con_ConfigurationsPart_HS As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =Parent.Height*.6
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutGap: =10
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Width: =Parent.Width
                    ZIndex: =2

                    img_Configuration_SupportingImage_HS As image:
                        Height: =Parent.Height*.6
                        Image: ='Agreement-amico'
                        Width: |
                            =Parent.Width
                        ZIndex: =1

                    btn_Configurations_Navigate_HS As button:
                        AlignInContainer: =AlignInContainer.Center
                        Color: =ColorFade(RGBA(107, 29, 94,1),96%)
                        Fill: =RGBA(107, 29, 94, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =35
                        HoverColor: =RGBA(107, 29, 94, 1)
                        HoverFill: =Self.Color
                        OnSelect: =Navigate('Configuration Screen')
                        PressedColor: =Self.Color
                        PressedFill: =Self.Fill
                        Size: =11
                        Text: ="Configuration"
                        Width: =Parent.Width*.7
                        ZIndex: =2

            con_ContractsAll_HS As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.Semibold
                Fill: =ColorFade(RGBA(107, 29, 94,1),96%)
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =10
                RadiusBottomRight: =10
                RadiusTopLeft: =10
                RadiusTopRight: =10
                Width: =Parent.Width*.85
                ZIndex: =3

                con_Header_AddContract_HS As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =Parent.Height*.1
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutGap: =5
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =15
                    Width: =Parent.Width
                    ZIndex: =1

                    lbl_Contracts_HS As label:
                        Color: =RGBA(107, 29, 94,1)
                        FontWeight: =FontWeight.Bold
                        Size: =14
                        Text: ="Contracts"
                        Width: =Parent.Width*.4
                        ZIndex: =1

                    con_CreateNewContract_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =15
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingRight: =30
                        Width: =Parent.Width*.48
                        ZIndex: =2

                        btn_CreateNewContract_HS As button:
                            BorderColor: =RGBA(107, 29, 94, 1)
                            Fill: =RGBA(107, 29, 94, 1)
                            FontWeight: =FontWeight.Bold
                            Height: =35
                            HoverBorderColor: =RGBA(107, 29, 94, 1)
                            HoverColor: =RGBA(107, 29, 94, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            OnSelect: |
                                =
                                Navigate('User Management Screen',ScreenTransition.Fade);
                            Size: =10.5
                            Text: ="Manage Users"
                            Visible: |-
                                =//true
                                If(gblActiveUser="Admin",true,false)
                            Width: =Parent.Width*.25
                            ZIndex: =2

                        btn_CreateNewContract_HS_1 As button:
                            BorderColor: =RGBA(107, 29, 94, 1)
                            Fill: =RGBA(107, 29, 94, 1)
                            FontWeight: =FontWeight.Bold
                            Height: =35
                            HoverBorderColor: =RGBA(107, 29, 94, 1)
                            HoverColor: =RGBA(107, 29, 94, 1)
                            HoverFill: =RGBA(255, 255, 255, 1)
                            OnSelect: |
                                =Set(
                                    ContractData,
                                    Blank()
                                );
                                Navigate('Create Contract Screen',ScreenTransition.None,{ContractData:Blank()});
                            Size: =10.5
                            Text: ="Create Contract"
                            Visible: |-
                                =//true
                                If(Or(gblActiveUser="Procurement",gblActiveUser="Admin"),true,false)
                            Width: =Parent.Width*.25
                            ZIndex: =3

                con_KpiAll_HS As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =Parent.Height*.18
                    LayoutGap: =50
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingTop: =5
                    Width: =Parent.Width
                    ZIndex: =2

                    con_TotalContracts_kpi_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =ColorFade(RGBA(107, 29, 94,1),60%)
                        BorderThickness: =2
                        DropShadow: =DropShadow.Regular
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =Parent.Height*.7
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Width: =Parent.Width*.2
                        ZIndex: =1

                        con_CountAndIcon_KpiTotalCount As groupContainer.horizontalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.None
                            FillPortions: =0
                            Height: =Parent.Height*.6
                            LayoutAlignItems: =LayoutAlignItems.Center
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =10
                            PaddingRight: =10
                            Width: =Parent.Width
                            ZIndex: =1

                            lbl_Count_TotalContracts_HS As label:
                                Height: =Parent.Height
                                Size: =25
                                Text: =CountRows(CM_ContractDetails)
                                Width: =Parent.Width*.7
                                ZIndex: =1

                            img_TotalContracts_HS As image:
                                Height: =Parent.Height*.7
                                Image: =partnership
                                Width: =Parent.Height*.7
                                ZIndex: =2

                        lbl_TotalContracts_HS As label:
                            Height: =Parent.Height*.4
                            PaddingLeft: =10
                            Text: ="Total Contracts"
                            Width: =Parent.Width
                            ZIndex: =2

                    con_ExpiredContracts_kpi_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =ColorFade(RGBA(107, 29, 94,1),60%)
                        BorderThickness: =2
                        DropShadow: =DropShadow.Regular
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =Parent.Height*.7
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Width: =Parent.Width*.2
                        ZIndex: =2

                        con_CountAndIcon_KpiExpiredCount As groupContainer.horizontalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.None
                            FillPortions: =0
                            Height: =Parent.Height*.6
                            LayoutAlignItems: =LayoutAlignItems.Center
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =10
                            PaddingRight: =10
                            Width: =Parent.Width
                            ZIndex: =1

                            lbl_Count_ExpiredContracts_HS As label:
                                Height: =Parent.Height
                                Size: =25
                                Text: =CountIf(CM_ContractDetails,Text(Status.Value)="Expired")
                                Width: =Parent.Width*.7
                                ZIndex: =1

                            img_ExpiredContracts_HS As image:
                                Height: =Parent.Height*.7
                                Image: =deadline
                                Width: =Parent.Height*.7
                                ZIndex: =2

                        lbl_ExpiredContracts_HS As label:
                            Height: =Parent.Height*.4
                            PaddingLeft: =10
                            Text: ="Expired Contracts"
                            Width: =Parent.Width
                            ZIndex: =2

                    con_ActiveContracts_kpi_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =ColorFade(RGBA(107, 29, 94,1),60%)
                        BorderThickness: =2
                        DropShadow: =DropShadow.Regular
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =Parent.Height*.7
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Width: =Parent.Width*.2
                        ZIndex: =3

                        con_CountAndIcon_KpiActiveCount As groupContainer.horizontalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.None
                            FillPortions: =0
                            Height: =Parent.Height*.6
                            LayoutAlignItems: =LayoutAlignItems.Center
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =10
                            PaddingRight: =10
                            Width: =Parent.Width
                            ZIndex: =1

                            lbl_Count_ActiveContracts_HS As label:
                                Height: =Parent.Height
                                Size: =25
                                Text: =CountIf(CM_ContractDetails,Text(Status.Value)="Active")
                                Width: =Parent.Width*.7
                                ZIndex: =1

                            img_ActiveContracts_HS As image:
                                Height: =Parent.Height*.7
                                Image: ='approved (1)'
                                Width: =Parent.Height*.7
                                ZIndex: =2

                        lbl_ActiveContracts_HS As label:
                            Height: =Parent.Height*.4
                            PaddingLeft: =10
                            Text: ="Active Contracts"
                            Width: =Parent.Width
                            ZIndex: =2

                    con_DraftContracts_kpi_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =ColorFade(RGBA(107, 29, 94,1),60%)
                        BorderThickness: =2
                        DropShadow: =DropShadow.Regular
                        Fill: =RGBA(255, 255, 255, 1)
                        FillPortions: =0
                        Height: =Parent.Height*.7
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Width: =Parent.Width*.2
                        ZIndex: =4

                        con_CountAndIcon_KpiDraftCount_HS As groupContainer.horizontalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.None
                            FillPortions: =0
                            Height: =Parent.Height*.6
                            LayoutAlignItems: =LayoutAlignItems.Center
                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =10
                            PaddingRight: =10
                            Width: =Parent.Width
                            ZIndex: =1

                            lbl_Count_DraftContracts_HS As label:
                                Height: =Parent.Height
                                Size: =25
                                Text: =CountIf(CM_ContractDetails,Text(Status.Value)="Draft")
                                Width: =Parent.Width*.7
                                ZIndex: =1

                            img_DraftContracts_HS As image:
                                Height: =Parent.Height*.7
                                Image: ='drafts (1)'
                                Width: =Parent.Height*.7
                                ZIndex: =2

                        lbl_DraftContracts_HS As label:
                            Height: =Parent.Height*.4
                            PaddingLeft: =10
                            Text: ="Draft Contracts"
                            Width: =Parent.Width
                            ZIndex: =2

                con_ContractsView_HS As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Width: =Parent.Width
                    ZIndex: =3

                    con_ContractFilter_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =Parent.Height*.12
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =2
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        PaddingLeft: =15
                        Width: =Parent.Width
                        ZIndex: =1

                        lbl_ApplicableTo_filter_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Semibold
                            Height: =35
                            PaddingRight: =0
                            Size: =12
                            Text: ="Applicable To"
                            Width: =Parent.Width*.11
                            ZIndex: =1

                        cmb_ApplicableTo_filter_HS As combobox:
                            BorderColor: =RGBA(219, 200, 216, 1)
                            ChevronBackground: =RGBA(255, 255, 255, 1)
                            ChevronFill: =RGBA(107, 29, 94, 1)
                            ChevronHoverBackground: =ColorFade(RGBA(107, 29, 94, 1), -20%)
                            ChevronHoverFill: =ColorFade( RGBA(107, 29, 94, 1),80%)
                            Color: =RGBA(107, 29, 94, 1)
                            DisplayFields: =["Value"]
                            Height: =30
                            HoverFill: =ColorFade(RGBA(107, 29, 94, 1),80%)
                            IsSearchable: =false
                            Items: =[Blank(),"Global","Regional","Local"]
                            PressedColor: =RGBA(107, 29, 94, 1)
                            PressedFill: =RGBA(255, 255, 255, 1)
                            SearchFields: =["Value"]
                            SearchItems: =[]
                            SelectionFill: =ColorFade( RGBA(107, 29, 94, 1),80%)
                            Size: =11
                            Width: =220
                            ZIndex: =2

                        lbl_Status_filter_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Semibold
                            Height: =35
                            PaddingRight: =0
                            Size: =12
                            Text: ="Status"
                            Width: =Parent.Width*.07
                            ZIndex: =3

                        drp_Status_filter_HS As dropdown:
                            AllowEmptySelection: =true
                            BorderColor: =RGBA(219, 200, 216, 1)
                            ChevronBackground: =RGBA(255, 255, 255, 1)
                            ChevronFill: =RGBA(107, 29, 94, 1)
                            ChevronHoverBackground: =Self.HoverBorderColor
                            Color: =RGBA(107, 29, 94, 1)
                            Height: =30
                            HoverColor: =RGBA(107, 29, 94, 1)
                            HoverFill: |-
                                =ColorFade  (ColorValue("#9e6c97"),70%)
                            Items: =[Blank(),"Active","Expired"]
                            PressedFill: =RGBA(158, 108, 151, 1)
                            SelectionFill: =ColorFade( RGBA(107, 29, 94, 1),80%)
                            Size: =11
                            Width: =220
                            ZIndex: =4

                        con_RefreshReset_HS As groupContainer.horizontalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.None
                            Height: =Parent.Height
                            LayoutAlignItems: =LayoutAlignItems.Center
                            LayoutGap: =15
                            LayoutJustifyContent: =LayoutJustifyContent.End
                            LayoutMinHeight: =Parent.Height
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            PaddingRight: =20
                            ZIndex: =5

                            btn_Reset_HS As button:
                                BorderColor: |-
                                    =ColorFade(ColorValue("#6b1d5e"), 70%)
                                Color: =RGBA(107, 29, 94, 1)
                                Fill: =RGBA(255, 255, 255, 1)
                                Height: =30
                                HoverBorderColor: |-
                                    =ColorValue("#6b1d5e")
                                HoverFill: |-
                                    =ColorValue("#6b1d5e")
                                OnSelect: |-
                                    =Reset(cmb_ApplicableTo_filter_HS);
                                    Reset(drp_Status_filter_HS)
                                PressedBorderColor: |-
                                    =ColorValue("#6b1d5e")
                                PressedFill: |-
                                    =ColorValue("#6b1d5e")
                                Size: =11
                                Text: ="Reset"
                                Width: =Parent.Width*.12
                                Y: =(Parent.Height-Self.Height)/2
                                ZIndex: =1

                            ico_Refresh_HS As icon.Reload:
                                Color: =RGBA(107, 29, 94, 1)
                                Height: =30
                                Icon: =Icon.Reload
                                OnSelect: =Refresh(CM_ContractDetails)
                                Width: =30
                                ZIndex: =3

                    con_Contract_GalleryHeadlines_HS As groupContainer.horizontalAutoLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        DropShadow: =DropShadow.None
                        FillPortions: =0
                        Height: =Parent.Height*.1
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutGap: =5
                        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Width: =Parent.Width
                        ZIndex: =2

                        lbl_ContractId_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            Size: =11
                            Text: ="ID"
                            Width: =Parent.Width*.09
                            ZIndex: =1

                        lbl_ContractName_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            PaddingLeft: =10
                            Size: =11
                            Text: ="CONTRACT NAME"
                            Width: =Parent.Width*.12
                            ZIndex: =2

                        lbl_ContracClient_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            Size: =11
                            Text: ="CLIENT"
                            Width: =Parent.Width*.12
                            ZIndex: =3

                        lbl_ContractService_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            Size: =11
                            Text: ="SERVICE "
                            Width: =Parent.Width*.15
                            ZIndex: =4

                        lbl_ContractApplicableTo_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            Size: =11
                            Text: ="APPLICABLE TO"
                            Width: =Parent.Width*.12
                            ZIndex: =5

                        lbl_ContractCountries_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            PaddingLeft: =15
                            Size: =11
                            Text: ="TASK"
                            Width: =Parent.Width*.1
                            ZIndex: =6

                        lbl_ContractStatus_Headline_HS As label:
                            Align: =Align.Center
                            Color: =RGBA(107, 29, 94,1)
                            FontWeight: =FontWeight.Bold
                            Size: =11
                            Text: ="STATUS"
                            Width: =Parent.Width*.12
                            ZIndex: =7

                    shp_Reclabel_HS As rectangle:
                        DisplayMode: =DisplayMode.View
                        Fill: =RGBA(219, 219, 219, 1)
                        Height: =2
                        Width: =Parent.Width*.95
                        ZIndex: =3

                    gal_AllContractsDetailView_HS As gallery.variableTemplateHeightGallery:
                        AlignInContainer: =AlignInContainer.Center
                        DelayItemLoading: =true
                        FillPortions: =0
                        Height: =Parent.Height*.77
                        Items: |-
                            =If(
                                IsBlank(drp_Status_filter_HS.Selected.Value) && IsBlank(cmb_ApplicableTo_filter_HS.Selected.Value),
                                CM_ContractDetails,
                                Filter(
                                    CM_ContractDetails,
                                    If(
                                        !IsBlank(drp_Status_filter_HS.Selected.Value),
                                        Status.Value = drp_Status_filter_HS.Selected.Value,
                                        true
                                    ) && If(
                                        !IsBlank(cmb_ApplicableTo_filter_HS.Selected.Value),
                                        Applicable_to.Value = cmb_ApplicableTo_filter_HS.Selected.Value,
                                        true
                                    )
                                )
                            )
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        LoadingSpinnerColor: |-
                            =ColorValue("#6b1d5e")
                        OnSelect: |+
                            =If(
                                ThisItem.Status.Value="Draft", 
                                Navigate('Create Contract Screen', ScreenTransition.Fade,{ContractData:ThisItem}),
                                Navigate('Contract Summary Screen',ScreenTransition.None,{lclSelectedContract:ThisItem})
                               
                            );
                            
                            
                            
                        TemplateSize: =60
                        Transition: =Transition.Pop
                        Width: =Parent.Width
                        ZIndex: =4

                        lbl_ContractId_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Bold
                            OnSelect: =Select(Parent)
                            Size: =11
                            Text: ="C000"&ThisItem.ID
                            Width: =lbl_ContractId_Headline_HS.Width
                            X: =lbl_ContractId_Headline_HS.X
                            Y: =(gal_AllContractsDetailView_HS.TemplateHeight-Self.Height)/2
                            ZIndex: =1

                        lbl_ContractName_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            OnSelect: =Select(Parent)
                            Overflow: =Overflow.Scroll
                            PaddingLeft: =10
                            Size: |-
                                =//If(Self.Width<=137,11,9)
                                11
                            Text: =ThisItem.Contract_name
                            Width: =lbl_ContractName_Headline_HS.Width+26
                            X: =lbl_ContractName_Headline_HS.X
                            Y: =(gal_AllContractsDetailView_HS.TemplateHeight-Self.Height)/2
                            ZIndex: =2

                        lbl_ContractClient_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            OnSelect: =Select(Parent)
                            Size: =11
                            Text: =ThisItem.Supplier.Value
                            Width: =lbl_ContracClient_Headline_HS.Width
                            X: =lbl_ContracClient_Headline_HS.X
                            Y: =(gal_AllContractsDetailView_HS.TemplateHeight-Self.Height)/2
                            ZIndex: =3

                        lbl_ContractService_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            OnSelect: =Select(Parent)
                            Size: =11
                            Text: =ThisItem.Service_Type_fk.Value
                            Width: =lbl_ContractService_Headline_HS.Width
                            X: =lbl_ContractService_Headline_HS.X
                            Y: =(gal_AllContractsDetailView_HS.TemplateHeight-Self.Height)/2
                            ZIndex: =4

                        lbl_ContractApplicableTo_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            OnSelect: =Select(Parent)
                            Size: =11
                            Text: =ThisItem.Applicable_to.Value
                            Width: =lbl_ContractApplicableTo_Headline_HS.Width
                            X: =lbl_ContractApplicableTo_Headline_HS.X
                            Y: =10
                            ZIndex: =6

                        lbl_ContractTask_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            OnSelect: |-
                                =UpdateContext({lclSelectedTaskHomeScreen:Blank()});
                                UpdateContext({lclSelectedTaskHomeScreen:Blank()});
                                //Select(Parent)
                                If(
                                    ThisItem.Coc_stage = 4,
                                    Set(gblContractCompletionView,true)&&Set(gblCOCSigningData,gal_AllContractsDetailView_HS.Selected),
                                    ThisItem.Coc_stage>=5,{}, 
                                    Navigate(
                                        'Contract Detail Screen (Further Details)',
                                        ScreenTransition.Fade,
                                        {lclSelectedTaskHomeScreen: gal_AllContractsDetailView_HS.Selected}
                                    )
                                   
                                )
                            PaddingLeft: =0
                            Size: =11
                            Text: |-
                                =//If(ThisItem.Country.Value=Blank(),"-",ThisItem.Country.Value)
                                ThisItem.Task_ID_Fk.Value
                            Visible: |-
                                =
                                If(gblActiveUser="Admin",true,If(LookUp(CM_Task,ThisItem.Task_ID_Fk.Id=ID).Task_Assigned_to=gblActiveUser,true,false))
                            Width: =lbl_ContractCountries_Headline_HS.Width+25
                            X: =lbl_ContractCountries_Headline_HS.X
                            Y: =(gal_AllContractsDetailView_HS.TemplateHeight-Self.Height)/2
                            ZIndex: =7

                        rec_ContractDeviderLine_HS As rectangle:
                            Fill: =RGBA(219, 200, 216, 1)
                            Height: =2
                            OnSelect: =Select(Parent)
                            Width: =Parent.Width*.9
                            X: =(Parent.Width-Self.Width)/2
                            Y: =58
                            ZIndex: =8

                        tgl_ContractStatus_HS As Toggle:
                            BasePaletteColor: =RGBA(107, 29, 94, 1)
                            Checked: =If(ThisItem.Status.Value="Active",true,false)
                            DisplayMode: =DisplayMode.Edit
                            FontColor: =RGBA(0, 0, 0, 1)
                            FontSize: =15
                            FontWeight: =FontWeight.Semibold
                            Height: =40
                            Label: =ThisItem.Status.Value
                            LabelPosition: ='Toggle.LabelPosition'.After
                            OnCheck: |
                                =Patch(
                                    CM_ContractDetails, 
                                    LookUp(CM_ContractDetails,ID=ThisItem.ID), 
                                    {
                                        Status: {Value:"Active"}
                                    }
                                )
                            OnSelect: =Select(Parent)
                            OnUncheck: |
                                =Patch(
                                    CM_ContractDetails, 
                                    LookUp(CM_ContractDetails,ID=ThisItem.ID), 
                                    {
                                        Status: {Value:"Expired"},End_date:Today()
                                    }
                                )
                            Visible: =If(ThisItem.Status.Value="Draft",false,true)
                            Width: =lbl_ContractStatus_Headline_HS.Width-10
                            X: =lbl_ContractStatus_Headline_HS.X
                            Y: =(gal_AllContractsDetailView_HS.TemplateHeight-Self.Height)/2
                            ZIndex: =9

                        lbl_ContractStatus_HS As label:
                            Align: =Align.Center
                            FontWeight: =FontWeight.Semibold
                            OnSelect: =Select(Parent)
                            Size: =11
                            Text: =ThisItem.Status.Value
                            Visible: =If(ThisItem.Status.Value="Draft",true,false)
                            Width: =70
                            X: =img_ContractStatus_HS.X+img_ContractStatus_HS.Width-10
                            Y: =tgl_ContractStatus_HS.Y
                            ZIndex: =10

                        img_ContractStatus_HS As image:
                            Height: =40
                            Image: ='pencil (1)'
                            OnSelect: =Select(Parent)
                            Visible: =If(ThisItem.Status.Value="Draft",true,false)
                            Width: =40
                            X: =tgl_ContractStatus_HS.X+20
                            Y: =tgl_ContractStatus_HS.Y
                            ZIndex: =11

    shp_BackgroundContractSingingPopUp_HS As rectangle:
        Fill: =RGBA(0, 0, 0, 0.42)
        Height: =Parent.Height
        Visible: =gblContractCompletionView
        Width: =Parent.Width
        ZIndex: =2

    con_PopUpCOCPreview_HS As groupContainer.manualLayoutContainer:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =Parent.Height*.85
        Visible: =gblContractCompletionView
        Width: =Parent.Width*.7
        X: =Parent.Width/2-Self.Width/2
        Y: =Parent.Height/2-Self.Height/2
        ZIndex: =3

        ico_ClosePopUpCOCPreview_HS As icon.Cancel:
            Color: =RGBA(0, 0, 0, 1)
            Height: =30
            Icon: =Icon.Cancel
            OnSelect: |-
                =Set(gblContractCompletionView,false);
                Reset(chk_ConfomationCOCSigning_HS)
            Width: =30
            X: =Parent.Width-Self.Width-5
            Y: =5
            ZIndex: =1

        chk_ConfomationCOCSigning_HS As checkbox:
            BorderColor: =RGBA(0, 0, 0, 0)
            CheckboxBorderColor: =RGBA(89, 22, 110, 1)
            CheckmarkFill: =RGBA(107, 25, 120, 1)
            FontWeight: =FontWeight.Bold
            HoverColor: =RGBA(0, 0, 0, 1)
            PressedColor: =RGBA(0, 0, 0, 1)
            Size: =11
            Text: ="Are you sure you want to sign the contract?"
            Width: =Parent.Width*.45
            X: =Parent.Width/2-Self.Width/2+40
            Y: =Parent.Height-Self.Height*2.1
            ZIndex: =2

        btn_SignCOC_HS As button:
            DisplayMode: =If(chk_ConfomationCOCSigning_HS.Value,DisplayMode.Edit,DisplayMode.Disabled)
            Fill: =RGBA(107, 29, 94, 1)
            FontWeight: =FontWeight.Bold
            HoverBorderColor: =
            HoverColor: =RGBA(107, 29, 94, 1)
            HoverFill: =Self.Color
            OnSelect: |-
                = Set(
                        gblTaskPatchDetail,
                        Patch(
                            CM_Task,
                            {ID:LookUp(CM_ContractDetails,ID=gblCOCSigningData.ID).Task_ID_Fk.Id},
                            {
                                Contract_Id: gblCOCSigningData.ID,
                                Task_Name: "-",
                                Task_Status: "Complete",
                                Task_Assigned_to: "-"
                            }
                        )
                    );
                    
                    Patch(
                        CM_ContractDetails,
                        {ID: gblCOCSigningData.ID},
                        {
                            
                            Coc_stage: 5,
                            Task_ID_Fk: {
                                Id: gblTaskPatchDetail.ID,
                                Value: gblTaskPatchDetail.Task_Name
                            }
                        }
                    );
                
                
                
                
                
                
                
                
                
                Reset(chk_ConfomationCOCSigning_HS);
                Set(gblContractCompletionView,false);
                Set(gblTaskPatchDetail,Blank());
                Set(gblCOCSigningData,Blank())
            PressedBorderColor: =
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            Size: =13
            Text: ="Submit"
            Tooltip: =If(DisplayMode.Disabled,"Please Check The Above Conformation")
            Width: =Parent.Width*.25
            X: =Parent.Width/2-Self.Width/2
            Y: =Parent.Height-Self.Height*1.3
            ZIndex: =3

        lbl_NoticeText_HS As label:
            Align: =Align.Center
            Color: =RGBA(122, 122, 122, 1)
            Height: =20
            Size: =10
            Text: ="Please Read the Document Carefully !! Befor signing and tick the below check box for achnoledgement."
            Width: =Parent.Width
            X: =Parent.Width/2-Self.Width/2
            Y: =Parent.Height-Self.Height- btn_SignCOC_HS.Height-chk_ConfomationCOCSigning_HS.Height-7
            ZIndex: =4

    Pdf_COCVIEW_HS As pdfViewer:
        BorderColor: =RGBA(0, 0, 0, 1)
        DisplayMode: =DisplayMode.View
        Document: =LookUp(Documents,ID=gal_AllContractsDetailView_HS.Selected.CM_PDF_FILE_ID).DataUri
        Fill: =RGBA(0, 0, 0, 0.5)
        Height: =con_PopUpCOCPreview_HS.Height*.75
        Visible: =gblContractCompletionView
        Width: =con_PopUpCOCPreview_HS.Width
        X: =Parent.Width/2-Self.Width/2
        Y: =Parent.Height/2-Self.Height/2-45
        ZIndex: =4

